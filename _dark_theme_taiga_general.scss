@import "dark_theme_taiga_colors";

/* --------------------------- General change --------------------------- */

*:focus {
  outline: 1px dotted $primary;
}

img[alt=""], img[alt="image.png"]{
  filter: brightness(85%);
}

.profile-timeline .activity-item .profile-contact-picture img, .profile-timeline .activity-item .profile-member-picture img,
.notifications-list .entry .entry-avatar img{
  opacity: 1;
}

.comment .comment-avatar {
  opacity: 1;
}

.icon {
  fill: currentColor;
}

  // background
html {
  color-scheme: dark;
  background: $dark-1;
  color: $font;
}

// loader
.loader.active {
  background-color: $dark-1;
  color: $foreground;
}

// navbar
.navbar {
  background-color: $dark-3;

  .nav-left .logo svg {
    fill: $foreground;
  }

  .nav-right > .topnav-dropdown-wrapper:hover > a svg, .navbar .nav-right > a:hover svg {
    fill: $foreground;
  }

  .nav-right {
    svg {
      fill: $primary;
    }

    .active svg {
      fill: $foreground;
    }

    & [tg-dropdown-notifications] svg {
      fill: $primary;
    }

    a:hover svg {
      fill: $foreground;
    }

    a.secondary:hover svg {
      fill: $primary;
    }

  }

  // user icon
  .user-avatar img {
    border: 4px solid $primary;
  }

  & [tg-dropdown-user]:hover {
    .user-avatar img {
      border-color: $foreground;
    }

    .chevron svg {
      fill: $foreground;
    }
  }

}

// navbar: left "Projects"
.dropdown-project-list {

  .dropdown-project-list-link {
    &:hover, &.active {
      background: $dark-3;
      color: $primary;
    }
  }

  .see-more-projects-btn {
    color: $primary;
  }

  .dropdown-project-list-ul {
    border-bottom: 1px solid $secondary;
  }

  .create-project-btn {
    span, svg {
      color: $font;
      fill: $font;
      stroke: $font;
    }

    &:hover span, &:hover svg {
      color: $font-dark;
      fill: $font-dark;
      stroke: $font-dark;
    }
  }

}


.dropdown-project-list.active .dropdown-project-list-projects {
  background-color: mix($dark-3, rgba(0, 0, 0, 0.4));

  .icon-folder {
    fill: $primary;
  }

  span {
    color: $primary;
  }
}

.dropdown-project-list:hover .dropdown-project-list-projects {
  background-color: mix($dark-3, rgba(0, 0, 0, 0.4));

  .icon-folder svg {
    fill: $foreground;
  }

  span {
    color: $foreground;
  }
}

.dropdown-project-list-projects {
  .icon-folder svg {
    fill: $primary;
  }

  span {
    color: $primary;
  }
}

// navbar-dropdown-user
.navbar [tg-dropdown-user] {
  .dropdown-user-inner {
    border-left: 1px solid $light;
  }

  .email {
    color: $foreground;
  }

  .dropdown-user-profile {
    border-bottom: 1px solid $secondary;
  }

  .user-profile-option:last-child {
    border-top: 1px solid $secondary;
  }
}

// navbar-dropdown-notification
.topnav-dropdown-wrapper .navbar-dropdown-notifications {
  background: $dark-4;
  box-shadow: 0 0 3px 3px rgba(169, 170, 188, .2);

  .action.disabled, .empty {
    color: $foreground;
  }

  .action:not(.disabled) {
    color: $primary;

    &:hover {
      color: $foreground;
    }
  }

  .notifications-bottom {
    border-top: 1px solid $secondary;
  }
}

// navbar-dropdown-help
.navbar-dropdown {
  background: $dark-4;
  box-shadow: 4px 4px 8px rgba(46, 52, 64, .1);
}

// buttons

.btn-icon[variant=primary] {
  background-color: $primary;
  color: $font;

  &:hover {
    background-color: $secondary;
    color: $font-dark;
  }
}

.btn-small[variant=primary] {
  background-color: $primary;
  color: $font;

  &:hover {
    background-color: $secondary;
    color: $font-dark;
  }
}

.btn-small[variant=secondary] {
  background-color: $dark-3;
  color: $font;

  &:hover {
    background-color: $primary;
    color: $font;
  }
}

.btn-big, .btn-board, .btn-filter, .btn-icon, .btn-small {
  background-color: $primary;
  color: $font;

  &:hover {
    background-color: $secondary;
    color: $font-dark;
  }
}

.button-primary {
  background: $primary;
  color: $font;

  &:hover {
    background-color: $secondary;
    color: $font-dark;
  }
}

.btn-big:disabled, .btn-big[variant=destructive]:disabled, .btn-big[variant=primary]:disabled, .btn-big[variant=secondary]:disabled, .btn-board:disabled, .btn-board[variant=destructive]:disabled, .btn-board[variant=primary]:disabled, .btn-board[variant=secondary]:disabled, .btn-filter:disabled, .btn-filter[variant=destructive]:disabled, .btn-filter[variant=primary]:disabled, .btn-filter[variant=secondary]:disabled, .btn-icon:disabled, .btn-icon[variant=destructive]:disabled, .btn-icon[variant=primary]:disabled, .btn-icon[variant=secondary]:disabled, .btn-small:disabled, .btn-small[variant=destructive]:disabled, .btn-small[variant=primary]:disabled, .btn-small[variant=secondary]:disabled {
  background-color: $dark-4;
  color: mix($dark-4, rgba(255, 255, 255, 0.4));
}

.btn-filter.active, .btn-filter:hover {
  background-color: $dark-3;
  color: $primary;
}

// links
a {
  color: $primary;

  &:visited, &:focus {
    color: $primary;
  }

  &:hover, &:visited:hover {
    color: $foreground;
  }
}

a.secondary {
  color: $foreground;

  &:visited, &:focus {
    color: $foreground;
  }

  &:hover, &:visited:hover {
    color: $primary;
  }
}

h1, h2, h3, h4, h5, h6 {
  color: $foreground;
}

// headers
h1 {
  color: $primary;
}


// Modals
.lightbox {
  background: rgba(0, 0, 0, 0.95);

  .close {
    fill: $foreground;
  }
}

.lightbox-feedback {
  label {
    color: $foreground;
  }

  .can-also {
    background: $dark-3;
    color: $white;

    h3 {
      color: $light-1;
    }
    .text {
      color: $light-1;
    }
  }

}


// Inputs

input[type=date], input[type=email], input[type=number], input[type=password], input[type=search], input[type=text], input[type=url], select, textarea {
  background-color: $dark-3;
  border-color: $dark-4;
  color: $white;

  &:focus {
    border: 2px solid $light;
  }

  &::placeholder {
    color: $light;
  }

}